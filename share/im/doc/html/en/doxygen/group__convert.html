<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>IM: Image Conversion</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Image Conversion<br/>
<small>
[<a class="el" href="group__imgclass.html">imImage</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p><div class="dynheader">
Collaboration diagram for Image Conversion:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__convert.png" border="0" alt="" usemap="#group____convert"/>
<map name="group____convert" id="group____convert">
<area shape="rect" id="node1" href="group__imgclass.html" title="imImage" alt="" coords="7,5,89,37"/></map>
</td></tr></table></center>
</div>
</p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__convert.html#gac380435b9a0ab246644afa283660fdaf">imComplex2Real</a> { <b>IM_CPX_REAL</b>, 
<b>IM_CPX_IMAG</b>, 
<b>IM_CPX_MAG</b>, 
<b>IM_CPX_PHASE</b>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__convert.html#ga7788b6d1e076afb092bd75a57469329d">imGammaFactor</a> { <br/>
&nbsp;&nbsp;<b>IM_GAMMA_LINEAR</b> =  0, 
<b>IM_GAMMA_LOGLITE</b> =  -10, 
<b>IM_GAMMA_LOGHEAVY</b> =  -1000, 
<b>IM_GAMMA_EXPLITE</b> =  2, 
<br/>
&nbsp;&nbsp;<b>IM_GAMMA_EXPHEAVY</b> =  7
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__convert.html#gac4ab30f6dd5517a0a2d120a7a6174519">imCastMode</a> { <a class="el" href="group__convert.html#ggac4ab30f6dd5517a0a2d120a7a6174519a4f1b5fed4982531f56c684bfe4eab2c5">IM_CAST_MINMAX</a>, 
<a class="el" href="group__convert.html#ggac4ab30f6dd5517a0a2d120a7a6174519a274c0e5392dca812efe5bce76d9fdcdc">IM_CAST_FIXED</a>, 
<a class="el" href="group__convert.html#ggac4ab30f6dd5517a0a2d120a7a6174519a80789418f0c35eba7233450a51a3af19">IM_CAST_DIRECT</a>, 
<a class="el" href="group__convert.html#ggac4ab30f6dd5517a0a2d120a7a6174519a40b2f1dc4654dd1a552b34bafcb54ef7">IM_CAST_USER</a>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__convert.html#ga1752278a9f6bbf4d987399b47636ac16">imConvertDataType</a> (const <a class="el" href="struct__imImage.html">imImage</a> *src_image, <a class="el" href="struct__imImage.html">imImage</a> *dst_image, int cpx2real, float gamma, int abssolute, int cast_mode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__convert.html#gae5dc37564057f4512240e56db6da9a60">imConvertColorSpace</a> (const <a class="el" href="struct__imImage.html">imImage</a> *src_image, <a class="el" href="struct__imImage.html">imImage</a> *dst_image)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__convert.html#gad1e660ee63012bf38f58c9d63cbea51f">imConvertToBitmap</a> (const <a class="el" href="struct__imImage.html">imImage</a> *src_image, <a class="el" href="struct__imImage.html">imImage</a> *dst_image, int cpx2real, float gamma, int abssolute, int cast_mode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__convert.html#ga311821c4559689577cd3a2e9e4d4510e">imImageGetOpenGLData</a> (const <a class="el" href="struct__imImage.html">imImage</a> *image, int *glformat)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__imImage.html">imImage</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__convert.html#ga82761ca4eb9b71efc9131915cfc216d9">imImageCreateFromOpenGLData</a> (int width, int height, int glformat, const void *gldata)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b></b></dt><dd>Converts one type of image into another. Can convert between color modes and between data types. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>See <a class="el" href="im__convert_8h.html">im_convert.h</a> </dd></dl>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gac380435b9a0ab246644afa283660fdaf"></a><!-- doxytag: member="im_convert.h::imComplex2Real" ref="gac380435b9a0ab246644afa283660fdaf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__convert.html#gac380435b9a0ab246644afa283660fdaf">imComplex2Real</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Complex to real conversions </p>

<p><div class="fragment"><pre class="fragment">{
  IM_CPX_REAL, 
  IM_CPX_IMAG, 
  IM_CPX_MAG, 
  IM_CPX_PHASE
};
</pre></div></p>

</div>
</div>
<a class="anchor" id="ga7788b6d1e076afb092bd75a57469329d"></a><!-- doxytag: member="im_convert.h::imGammaFactor" ref="ga7788b6d1e076afb092bd75a57469329d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__convert.html#ga7788b6d1e076afb092bd75a57469329d">imGammaFactor</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Predefined Gamma factors. Gamma can be any real number. When gamma&lt;0 use logarithmic, when gamma&gt;0 use exponential. gamma(x,g) = ((e^(g*x))-1)/(exp(g)-1) gamma(x,g) = (log((g*x)+1))/(log(g+1)) </p>

<p><div class="fragment"><pre class="fragment">{
  IM_GAMMA_LINEAR   = 0,
  IM_GAMMA_LOGLITE  = -10,
  IM_GAMMA_LOGHEAVY = -1000,
  IM_GAMMA_EXPLITE  = 2,
  IM_GAMMA_EXPHEAVY = 7
};
</pre></div></p>

</div>
</div>
<a class="anchor" id="gac4ab30f6dd5517a0a2d120a7a6174519"></a><!-- doxytag: member="im_convert.h::imCastMode" ref="gac4ab30f6dd5517a0a2d120a7a6174519" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__convert.html#gac4ab30f6dd5517a0a2d120a7a6174519">imCastMode</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Predefined Cast Modes <br/>
 See also <a class="el" href="group__color.html">Color Manipulation</a> Color Manipulation, Color Component Intervals section. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggac4ab30f6dd5517a0a2d120a7a6174519a4f1b5fed4982531f56c684bfe4eab2c5"></a><!-- doxytag: member="IM_CAST_MINMAX" ref="ggac4ab30f6dd5517a0a2d120a7a6174519a4f1b5fed4982531f56c684bfe4eab2c5" args="" -->IM_CAST_MINMAX</em>&nbsp;</td><td>
<p>scan for min and max values. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggac4ab30f6dd5517a0a2d120a7a6174519a274c0e5392dca812efe5bce76d9fdcdc"></a><!-- doxytag: member="IM_CAST_FIXED" ref="ggac4ab30f6dd5517a0a2d120a7a6174519a274c0e5392dca812efe5bce76d9fdcdc" args="" -->IM_CAST_FIXED</em>&nbsp;</td><td>
<p>use predefied min-max values. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggac4ab30f6dd5517a0a2d120a7a6174519a80789418f0c35eba7233450a51a3af19"></a><!-- doxytag: member="IM_CAST_DIRECT" ref="ggac4ab30f6dd5517a0a2d120a7a6174519a80789418f0c35eba7233450a51a3af19" args="" -->IM_CAST_DIRECT</em>&nbsp;</td><td>
<p>direct type cast the value. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggac4ab30f6dd5517a0a2d120a7a6174519a40b2f1dc4654dd1a552b34bafcb54ef7"></a><!-- doxytag: member="IM_CAST_USER" ref="ggac4ab30f6dd5517a0a2d120a7a6174519a40b2f1dc4654dd1a552b34bafcb54ef7" args="" -->IM_CAST_USER</em>&nbsp;</td><td>
<p>user attributes called "UserMin" and "UserMax", both float values. </p>
</td></tr>
</table>
</dd>
</dl>

<p><div class="fragment"><pre class="fragment">{
  IM_CAST_MINMAX, <span class="comment">/**&lt; scan for min and max values.  */</span>
  IM_CAST_FIXED,  <span class="comment">/**&lt; use predefied min-max values. */</span>
  IM_CAST_DIRECT, <span class="comment">/**&lt; direct type cast the value.   */</span>
  <a class="code" href="group__convert.html#ggac4ab30f6dd5517a0a2d120a7a6174519a40b2f1dc4654dd1a552b34bafcb54ef7">IM_CAST_USER</a>    <span class="comment">/**&lt; user attributes called &quot;UserMin&quot; and &quot;UserMax&quot;, both float values. */</span>
};
</pre></div></p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga1752278a9f6bbf4d987399b47636ac16"></a><!-- doxytag: member="im_convert.h::imConvertDataType" ref="ga1752278a9f6bbf4d987399b47636ac16" args="(const imImage *src_image, imImage *dst_image, int cpx2real, float gamma, int abssolute, int cast_mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int imConvertDataType </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct__imImage.html">imImage</a> *&nbsp;</td>
          <td class="paramname"> <em>src_image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__imImage.html">imImage</a> *&nbsp;</td>
          <td class="paramname"> <em>dst_image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cpx2real</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>gamma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>abssolute</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cast_mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Changes the image data type, using a complex2real conversion, a gamma factor, and an abssolute mode (modulus). <br/>
 When demoting the data type the function will scan source for min/max values or use fixed values (cast_mode) to scale the result according to the destiny range. <br/>
 Except complex to real that will use only the complex2real conversion. <br/>
 Images must be of the same size and color mode. <br/>
 Returns IM_ERR_NONE, IM_ERR_DATA or IM_ERR_COUNTER, see also <a class="el" href="group__file.html#ga5259a88d1d9299b782efa0ae2a461056">imErrorCodes</a>. See also <a class="el" href="group__convert.html#gac380435b9a0ab246644afa283660fdaf">imComplex2Real</a>, <a class="el" href="group__convert.html#ga7788b6d1e076afb092bd75a57469329d">imGammaFactor</a> and <a class="el" href="group__convert.html#gac4ab30f6dd5517a0a2d120a7a6174519">imCastMode</a>.</p>
<div class="fragment"><pre class="fragment">im.ConvertDataType(src_image: imImage, dst_image: imImage, cpx2real: number, gamma: number, abssolute: boolean, cast_mode: number) -&gt; error: number [in Lua 5] </pre></div> <div class="fragment"><pre class="fragment">im.ConvertDataTypeNew(image: imImage, data_type: number, cpx2real: number, gamma: number, abssolute: boolean, cast_mode: number) -&gt; error: number, new_image: imImage  [in Lua 5] </pre></div> 
</div>
</div>
<a class="anchor" id="gae5dc37564057f4512240e56db6da9a60"></a><!-- doxytag: member="im_convert.h::imConvertColorSpace" ref="gae5dc37564057f4512240e56db6da9a60" args="(const imImage *src_image, imImage *dst_image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int imConvertColorSpace </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct__imImage.html">imImage</a> *&nbsp;</td>
          <td class="paramname"> <em>src_image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__imImage.html">imImage</a> *&nbsp;</td>
          <td class="paramname"> <em>dst_image</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Converts one color space to another. Images must be of the same size and data type. <br/>
 CMYK can be converted to RGB only, and it is a very simple conversion. <br/>
 All colors can be converted to Binary, the non zero gray values are converted to 1. <br/>
 RGB to Map uses the median cut implementation from the free IJG JPEG software, copyright Thomas G. Lane. <br/>
 Alpha channel is considered and Transparency* attributes are converted to alpha channel. <br/>
 All other color space conversions assume sRGB and CIE definitions. <br/>
 Returns IM_ERR_NONE, IM_ERR_DATA or IM_ERR_COUNTER, see also <a class="el" href="group__file.html#ga5259a88d1d9299b782efa0ae2a461056">imErrorCodes</a>.</p>
<div class="fragment"><pre class="fragment">im.ConvertColorSpace(src_image: imImage, dst_image: imImage) -&gt; error: number [in Lua 5] </pre></div> <div class="fragment"><pre class="fragment">im.ConvertColorSpaceNew(image: imImage, color_space: number, has_alpha: boolean) -&gt; error: number, new_image: imImage [in Lua 5] </pre></div> 
</div>
</div>
<a class="anchor" id="gad1e660ee63012bf38f58c9d63cbea51f"></a><!-- doxytag: member="im_convert.h::imConvertToBitmap" ref="gad1e660ee63012bf38f58c9d63cbea51f" args="(const imImage *src_image, imImage *dst_image, int cpx2real, float gamma, int abssolute, int cast_mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int imConvertToBitmap </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct__imImage.html">imImage</a> *&nbsp;</td>
          <td class="paramname"> <em>src_image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__imImage.html">imImage</a> *&nbsp;</td>
          <td class="paramname"> <em>dst_image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cpx2real</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>gamma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>abssolute</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cast_mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Converts the image to its bitmap equivalent, uses <a class="el" href="group__convert.html#gae5dc37564057f4512240e56db6da9a60">imConvertColorSpace</a> and <a class="el" href="group__convert.html#ga1752278a9f6bbf4d987399b47636ac16">imConvertDataType</a>. <br/>
 Returns IM_ERR_NONE, IM_ERR_DATA or IM_ERR_COUNTER, see also <a class="el" href="group__file.html#ga5259a88d1d9299b782efa0ae2a461056">imErrorCodes</a>. See also <a class="el" href="group__convert.html#gac380435b9a0ab246644afa283660fdaf">imComplex2Real</a>, <a class="el" href="group__convert.html#ga7788b6d1e076afb092bd75a57469329d">imGammaFactor</a> and <a class="el" href="group__convert.html#gac4ab30f6dd5517a0a2d120a7a6174519">imCastMode</a>. <br/>
 The function im.ConvertToBitmapNew uses the default conversion result from <a class="el" href="group__colormodeutl.html#ga98a61c6b260176117c59966ea18bc3ca">imColorModeToBitmap</a> if color_space is nil.</p>
<div class="fragment"><pre class="fragment">im.ConvertToBitmap(src_image: imImage, dst_image: imImage, cpx2real: number, gamma: number, abssolute: boolean, cast_mode: number) -&gt; error: number [in Lua 5] </pre></div> <div class="fragment"><pre class="fragment">im.ConvertToBitmapNew(image: imImage, color_space: number, has_alpha: boolean, cpx2real: number, gamma: number, abssolute: boolean, cast_mode: number) -&gt; error: number, new_image: imImage [in Lua 5] </pre></div> 
</div>
</div>
<a class="anchor" id="ga311821c4559689577cd3a2e9e4d4510e"></a><!-- doxytag: member="im_convert.h::imImageGetOpenGLData" ref="ga311821c4559689577cd3a2e9e4d4510e" args="(const imImage *image, int *glformat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* imImageGetOpenGLData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct__imImage.html">imImage</a> *&nbsp;</td>
          <td class="paramname"> <em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>glformat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns an OpenGL compatible data buffer. Also returns the correspondant pixel format. <br/>
 The memory allocated is stored in the attribute "GLDATA" with BYTE type. And it will exists while the image exists. <br/>
 It can be cleared by setting the attribute to NULL. <br/>
 MAP images are converted to RGB, and BINARY images are converted to GRAY. Alpha channel is considered and Transparency* attributes are converted to alpha channel. So calculate depth from glformat, not from image depth.</p>
<div class="fragment"><pre class="fragment">image:GetOpenGLData() -&gt; gldata: userdata, glformat: number [in Lua 5] </pre></div> 
</div>
</div>
<a class="anchor" id="ga82761ca4eb9b71efc9131915cfc216d9"></a><!-- doxytag: member="im_convert.h::imImageCreateFromOpenGLData" ref="ga82761ca4eb9b71efc9131915cfc216d9" args="(int width, int height, int glformat, const void *gldata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__imImage.html">imImage</a>* imImageCreateFromOpenGLData </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>glformat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>gldata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates an image from an OpenGL data.</p>
<div class="fragment"><pre class="fragment">im.ImageCreateFromOpenGLData(width, height, glformat: number, gldata: userdata) -&gt; image: imImage [in Lua 5] </pre></div> 
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue May 15 2012 12:06:07 for IM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
