<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>IM: Image Storage</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#groups">Modules</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Image Storage</h1>  </div>
</div>
<div class="contents">

<p><div class="dynheader">
Collaboration diagram for Image Storage:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__file.png" border="0" alt="" usemap="#group____file"/>
<map name="group____file" id="group____file">
<area shape="rect" id="node1" href="group__format.html" title="File Formats" alt="" coords="201,5,313,37"/><area shape="rect" id="node2" href="group__filesdk.html" title="File Format SDK" alt="" coords="187,61,328,93"/><area shape="rect" id="node4" href="group__imgfile.html" title="imImage Storage" alt="" coords="184,117,331,149"/></map>
</td></tr></table></center>
</div>
</p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classimImageFile.html">imImageFile</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Image File Wrapper Class.  <a href="classimImageFile.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="groups"></a>
Modules</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__filesdk.html">File Format SDK</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__imgfile.html">imImage Storage</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__format.html">File Formats</a></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gada2ca27c9f8f174a2fc2a0ced96d31cf"></a><!-- doxytag: member="file::imFile" ref="gada2ca27c9f8f174a2fc2a0ced96d31cf" args="" -->
typedef struct <a class="el" href="struct__imFile.html">_imFile</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#gada2ca27c9f8f174a2fc2a0ced96d31cf">imFile</a></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#ga5259a88d1d9299b782efa0ae2a461056">imErrorCodes</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__file.html#gga5259a88d1d9299b782efa0ae2a461056aacefa5295aadef1888dd6d9df05ccc50">IM_ERR_NONE</a>, 
<a class="el" href="group__file.html#gga5259a88d1d9299b782efa0ae2a461056a9a39f4006f898658b8a84dab17c110fa">IM_ERR_OPEN</a>, 
<a class="el" href="group__file.html#gga5259a88d1d9299b782efa0ae2a461056aa91028db09d089422a498e0eda79087e">IM_ERR_ACCESS</a>, 
<a class="el" href="group__file.html#gga5259a88d1d9299b782efa0ae2a461056a6ed0bfcfe809cf79b27e5070d3da50bc">IM_ERR_FORMAT</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__file.html#gga5259a88d1d9299b782efa0ae2a461056ac46679e09115f18e172648afb081d709">IM_ERR_DATA</a>, 
<a class="el" href="group__file.html#gga5259a88d1d9299b782efa0ae2a461056a8a09221529b9a96720758ea177930ecf">IM_ERR_COMPRESS</a>, 
<a class="el" href="group__file.html#gga5259a88d1d9299b782efa0ae2a461056ae55c4b754338c929f338906ffa5916a2">IM_ERR_MEM</a>, 
<a class="el" href="group__file.html#gga5259a88d1d9299b782efa0ae2a461056aea9e4d3f7e7464340361a3fe92c71f09">IM_ERR_COUNTER</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__imFile.html">imFile</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#ga6b0a4677b3bfdf34b864e1c134fa3b44">imFileOpen</a> (const char *file_name, int *error)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__imFile.html">imFile</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#gaf0904597eb4d31424fa06d7bd350ce7b">imFileOpenAs</a> (const char *file_name, const char *format, int *error)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__imFile.html">imFile</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#gaa08d4f8cca2b49f7882c0c39e0ea251f">imFileNew</a> (const char *file_name, const char *format, int *error)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#ga1ff0e532c94f50c5f0e9aecccbc1ce3d">imFileClose</a> (<a class="el" href="struct__imFile.html">imFile</a> *ifile)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#gaee859e10f162d05fbb749086115d76e6">imFileHandle</a> (<a class="el" href="struct__imFile.html">imFile</a> *ifile, int index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#gabba47b076ad962c8e67e023336c9ebf5">imFileGetInfo</a> (<a class="el" href="struct__imFile.html">imFile</a> *ifile, char *format, char *compression, int *image_count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#ga41bc244e3ed6db2aafefdb3291279454">imFileSetInfo</a> (<a class="el" href="struct__imFile.html">imFile</a> *ifile, const char *compression)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#gaa92597db0072b394e9c38e5ff1127b98">imFileSetAttribute</a> (<a class="el" href="struct__imFile.html">imFile</a> *ifile, const char *attrib, int data_type, int count, const void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#ga75ee89c40ac9dcd102de6e595b54192a">imFileGetAttribute</a> (<a class="el" href="struct__imFile.html">imFile</a> *ifile, const char *attrib, int *data_type, int *count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#ga7c0479cf6078b88eafd37d0c19624371">imFileGetAttributeList</a> (<a class="el" href="struct__imFile.html">imFile</a> *ifile, char **attrib, int *attrib_count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#ga0b7a4dba924784b17a5ef846d4d22d2a">imFileGetPalette</a> (<a class="el" href="struct__imFile.html">imFile</a> *ifile, long *palette, int *palette_count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#ga446462ec406002fcffbcd0611deca0da">imFileSetPalette</a> (<a class="el" href="struct__imFile.html">imFile</a> *ifile, long *palette, int palette_count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#ga4b32f79f7f596d70701cfe7978b6c35b">imFileReadImageInfo</a> (<a class="el" href="struct__imFile.html">imFile</a> *ifile, int index, int *width, int *height, int *file_color_mode, int *file_data_type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#ga2818bcbd626b5706ed585357a586fe68">imFileWriteImageInfo</a> (<a class="el" href="struct__imFile.html">imFile</a> *ifile, int width, int height, int user_color_mode, int user_data_type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#gaa73397dc74a58704586595f0edb8ef34">imFileReadImageData</a> (<a class="el" href="struct__imFile.html">imFile</a> *ifile, void *data, int convert2bitmap, int color_mode_flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__file.html#gaf81a086ffc143d70e0ef24e876aaeed3">imFileWriteImageData</a> (<a class="el" href="struct__imFile.html">imFile</a> *ifile, void *data)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b></b></dt><dd>See <a class="el" href="im_8h.html">im.h</a> </dd></dl>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga5259a88d1d9299b782efa0ae2a461056"></a><!-- doxytag: member="im.h::imErrorCodes" ref="ga5259a88d1d9299b782efa0ae2a461056" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__file.html#ga5259a88d1d9299b782efa0ae2a461056">imErrorCodes</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>File Access Error Codes </p>
<dl class="user"><dt><b></b></dt><dd>In Lua use im.ErrorStr(err) to convert the error number into a string. </dd></dl>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga5259a88d1d9299b782efa0ae2a461056aacefa5295aadef1888dd6d9df05ccc50"></a><!-- doxytag: member="IM_ERR_NONE" ref="gga5259a88d1d9299b782efa0ae2a461056aacefa5295aadef1888dd6d9df05ccc50" args="" -->IM_ERR_NONE</em>&nbsp;</td><td>
<p>No error. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga5259a88d1d9299b782efa0ae2a461056a9a39f4006f898658b8a84dab17c110fa"></a><!-- doxytag: member="IM_ERR_OPEN" ref="gga5259a88d1d9299b782efa0ae2a461056a9a39f4006f898658b8a84dab17c110fa" args="" -->IM_ERR_OPEN</em>&nbsp;</td><td>
<p>Error while opening the file (read or write). </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga5259a88d1d9299b782efa0ae2a461056aa91028db09d089422a498e0eda79087e"></a><!-- doxytag: member="IM_ERR_ACCESS" ref="gga5259a88d1d9299b782efa0ae2a461056aa91028db09d089422a498e0eda79087e" args="" -->IM_ERR_ACCESS</em>&nbsp;</td><td>
<p>Error while accessing the file (read or write). </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga5259a88d1d9299b782efa0ae2a461056a6ed0bfcfe809cf79b27e5070d3da50bc"></a><!-- doxytag: member="IM_ERR_FORMAT" ref="gga5259a88d1d9299b782efa0ae2a461056a6ed0bfcfe809cf79b27e5070d3da50bc" args="" -->IM_ERR_FORMAT</em>&nbsp;</td><td>
<p>Invalid or unrecognized file format. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga5259a88d1d9299b782efa0ae2a461056ac46679e09115f18e172648afb081d709"></a><!-- doxytag: member="IM_ERR_DATA" ref="gga5259a88d1d9299b782efa0ae2a461056ac46679e09115f18e172648afb081d709" args="" -->IM_ERR_DATA</em>&nbsp;</td><td>
<p>Invalid or unsupported data. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga5259a88d1d9299b782efa0ae2a461056a8a09221529b9a96720758ea177930ecf"></a><!-- doxytag: member="IM_ERR_COMPRESS" ref="gga5259a88d1d9299b782efa0ae2a461056a8a09221529b9a96720758ea177930ecf" args="" -->IM_ERR_COMPRESS</em>&nbsp;</td><td>
<p>Invalid or unsupported compression. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga5259a88d1d9299b782efa0ae2a461056ae55c4b754338c929f338906ffa5916a2"></a><!-- doxytag: member="IM_ERR_MEM" ref="gga5259a88d1d9299b782efa0ae2a461056ae55c4b754338c929f338906ffa5916a2" args="" -->IM_ERR_MEM</em>&nbsp;</td><td>
<p>Insuficient memory </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga5259a88d1d9299b782efa0ae2a461056aea9e4d3f7e7464340361a3fe92c71f09"></a><!-- doxytag: member="IM_ERR_COUNTER" ref="gga5259a88d1d9299b782efa0ae2a461056aea9e4d3f7e7464340361a3fe92c71f09" args="" -->IM_ERR_COUNTER</em>&nbsp;</td><td>
<p>Interrupted by the counter </p>
</td></tr>
</table>
</dd>
</dl>

<p><div class="fragment"><pre class="fragment">{
  IM_ERR_NONE,     <span class="comment">/**&lt; No error. */</span>
  IM_ERR_OPEN,     <span class="comment">/**&lt; Error while opening the file (read or write). */</span>
  IM_ERR_ACCESS,   <span class="comment">/**&lt; Error while accessing the file (read or write). */</span>
  IM_ERR_FORMAT,   <span class="comment">/**&lt; Invalid or unrecognized file format. */</span>
  IM_ERR_DATA,     <span class="comment">/**&lt; Invalid or unsupported data. */</span>
  IM_ERR_COMPRESS, <span class="comment">/**&lt; Invalid or unsupported compression. */</span>
  IM_ERR_MEM,      <span class="comment">/**&lt; Insuficient memory */</span>
  <a class="code" href="group__file.html#gga5259a88d1d9299b782efa0ae2a461056aea9e4d3f7e7464340361a3fe92c71f09">IM_ERR_COUNTER</a>   <span class="comment">/**&lt; Interrupted by the counter */</span>
};
</pre></div></p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga6b0a4677b3bfdf34b864e1c134fa3b44"></a><!-- doxytag: member="im.h::imFileOpen" ref="ga6b0a4677b3bfdf34b864e1c134fa3b44" args="(const char *file_name, int *error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__imFile.html">imFile</a>* imFileOpen </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Opens the file for reading. It must exists. Also reads file header. It will try to identify the file format. See also <a class="el" href="group__file.html#ga5259a88d1d9299b782efa0ae2a461056">imErrorCodes</a>. <br/>
 In Lua the IM file metatable name is "imFile". When converted to a string will return "imFile(%p)" where p is replaced by the userdata address. If the file is already closed by im.FileClose, then it will return also the suffix "-closed".</p>
<div class="fragment"><pre class="fragment">im.FileOpen(file_name: string) -&gt; ifile: imFile, error: number [in Lua 5] </pre></div> 
</div>
</div>
<a class="anchor" id="gaf0904597eb4d31424fa06d7bd350ce7b"></a><!-- doxytag: member="im.h::imFileOpenAs" ref="gaf0904597eb4d31424fa06d7bd350ce7b" args="(const char *file_name, const char *format, int *error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__imFile.html">imFile</a>* imFileOpenAs </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Opens the file for reading using a specific format. It must exists. Also reads file header. See also <a class="el" href="group__file.html#ga5259a88d1d9299b782efa0ae2a461056">imErrorCodes</a> and <a class="el" href="group__format.html">File Formats</a>.</p>
<div class="fragment"><pre class="fragment">im.FileOpenAs(file_name, format: string) -&gt; ifile: imFile, error: number [in Lua 5] </pre></div> 
</div>
</div>
<a class="anchor" id="gaa08d4f8cca2b49f7882c0c39e0ea251f"></a><!-- doxytag: member="im.h::imFileNew" ref="gaa08d4f8cca2b49f7882c0c39e0ea251f" args="(const char *file_name, const char *format, int *error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__imFile.html">imFile</a>* imFileNew </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>error</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates a new file for writing using a specific format. If the file exists will be replaced. <br/>
 It will only initialize the format driver and create the file, no data is actually written. See also <a class="el" href="group__file.html#ga5259a88d1d9299b782efa0ae2a461056">imErrorCodes</a> and <a class="el" href="group__format.html">File Formats</a>.</p>
<div class="fragment"><pre class="fragment">im.FileNew(file_name: string, format: string) -&gt; ifile: imFile, error: number [in Lua 5] </pre></div> 
</div>
</div>
<a class="anchor" id="ga1ff0e532c94f50c5f0e9aecccbc1ce3d"></a><!-- doxytag: member="im.h::imFileClose" ref="ga1ff0e532c94f50c5f0e9aecccbc1ce3d" args="(imFile *ifile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void imFileClose </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__imFile.html">imFile</a> *&nbsp;</td>
          <td class="paramname"> <em>ifile</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Closes the file. <br/>
 In Lua if this function is not called, the file is closed by the garbage collector.</p>
<div class="fragment"><pre class="fragment">im.FileClose(ifile: imFile) [in Lua 5] </pre></div> <div class="fragment"><pre class="fragment">ifile:Close() [in Lua 5] </pre></div> 
</div>
</div>
<a class="anchor" id="gaee859e10f162d05fbb749086115d76e6"></a><!-- doxytag: member="im.h::imFileHandle" ref="gaee859e10f162d05fbb749086115d76e6" args="(imFile *ifile, int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* imFileHandle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__imFile.html">imFile</a> *&nbsp;</td>
          <td class="paramname"> <em>ifile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns an internal handle. index=0 returns always an imBinFile* handle, but for some formats returns NULL because they do not use imBinFile (like AVI and WMV). index=1 return an internal structure used by the format, usually is a handle to a third party library structure. This is file format dependent.</p>
<div class="fragment"><pre class="fragment">ifile:Handle() -&gt; handle: userdata [in Lua 5] </pre></div> 
</div>
</div>
<a class="anchor" id="gabba47b076ad962c8e67e023336c9ebf5"></a><!-- doxytag: member="im.h::imFileGetInfo" ref="gabba47b076ad962c8e67e023336c9ebf5" args="(imFile *ifile, char *format, char *compression, int *image_count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void imFileGetInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__imFile.html">imFile</a> *&nbsp;</td>
          <td class="paramname"> <em>ifile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>compression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>image_count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns file information. image_count is the number of images in a stack or the number of frames in a video/animation or the depth of a volume data. <br/>
 compression and image_count can be NULL. <br/>
 These informations are also available as attributes: </p>
<div class="fragment"><pre class="fragment">FileFormat (string) </pre></div> <div class="fragment"><pre class="fragment">FileCompression (string) </pre></div> <div class="fragment"><pre class="fragment">FileImageCount IM_INT (1) </pre></div><p> See also <a class="el" href="group__format.html">File Formats</a>.</p>
<div class="fragment"><pre class="fragment">ifile:GetInfo() -&gt; format: string, compression: string, image_count: number [in Lua 5] </pre></div> 
</div>
</div>
<a class="anchor" id="ga41bc244e3ed6db2aafefdb3291279454"></a><!-- doxytag: member="im.h::imFileSetInfo" ref="ga41bc244e3ed6db2aafefdb3291279454" args="(imFile *ifile, const char *compression)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void imFileSetInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__imFile.html">imFile</a> *&nbsp;</td>
          <td class="paramname"> <em>ifile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>compression</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Changes the write compression method. <br/>
 If the compression is not supported will return an error code when writting. <br/>
 Use NULL to set the default compression. You can use the imFileGetInfo to retrieve the actual compression but only after <a class="el" href="group__file.html#ga2818bcbd626b5706ed585357a586fe68">imFileWriteImageInfo</a>. Only a few formats allow you to change the compression between frames.</p>
<div class="fragment"><pre class="fragment">ifile:SetInfo(compression: string) [in Lua 5] </pre></div> 
</div>
</div>
<a class="anchor" id="gaa92597db0072b394e9c38e5ff1127b98"></a><!-- doxytag: member="im.h::imFileSetAttribute" ref="gaa92597db0072b394e9c38e5ff1127b98" args="(imFile *ifile, const char *attrib, int data_type, int count, const void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void imFileSetAttribute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__imFile.html">imFile</a> *&nbsp;</td>
          <td class="paramname"> <em>ifile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>attrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>data_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Changes an extended attribute. <br/>
 The data will be internally duplicated. <br/>
 If data is NULL the attribute is removed. If data_type is BYTE then count can be -1 to indicate a NULL terminated string. See also <a class="el" href="group__imagerep.html#ga668c1a57f579817842a4777a141b0b1d">imDataType</a>.</p>
<div class="fragment"><pre class="fragment">ifile:SetAttribute(attrib: string, data_type: number, data: table of numbers or string) [in Lua 5] </pre></div><p> If data_type is IM_BYTE, as_string can be used as data. </p>

</div>
</div>
<a class="anchor" id="ga75ee89c40ac9dcd102de6e595b54192a"></a><!-- doxytag: member="im.h::imFileGetAttribute" ref="ga75ee89c40ac9dcd102de6e595b54192a" args="(imFile *ifile, const char *attrib, int *data_type, int *count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void* imFileGetAttribute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__imFile.html">imFile</a> *&nbsp;</td>
          <td class="paramname"> <em>ifile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>attrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>data_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns an extended attribute. <br/>
 Returns NULL if not found. data_type and count can be NULL. See also <a class="el" href="group__imagerep.html#ga668c1a57f579817842a4777a141b0b1d">imDataType</a>.</p>
<div class="fragment"><pre class="fragment">ifile:GetAttribute(attrib: string, [as_string: boolean]) -&gt; data: table of numbers or string, data_type: number [in Lua 5] </pre></div><p> If data_type is IM_BYTE, as_string can be used to return a string instead of a table. </p>

</div>
</div>
<a class="anchor" id="ga7c0479cf6078b88eafd37d0c19624371"></a><!-- doxytag: member="im.h::imFileGetAttributeList" ref="ga7c0479cf6078b88eafd37d0c19624371" args="(imFile *ifile, char **attrib, int *attrib_count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void imFileGetAttributeList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__imFile.html">imFile</a> *&nbsp;</td>
          <td class="paramname"> <em>ifile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>attrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>attrib_count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns a list of the attribute names. <br/>
 "attrib" must contain room enough for "attrib_count" names. Use "attrib=NULL" to return only the count.</p>
<div class="fragment"><pre class="fragment">ifile:GetAttributeList() -&gt; data: table of strings [in Lua 5] </pre></div> 
</div>
</div>
<a class="anchor" id="ga0b7a4dba924784b17a5ef846d4d22d2a"></a><!-- doxytag: member="im.h::imFileGetPalette" ref="ga0b7a4dba924784b17a5ef846d4d22d2a" args="(imFile *ifile, long *palette, int *palette_count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void imFileGetPalette </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__imFile.html">imFile</a> *&nbsp;</td>
          <td class="paramname"> <em>ifile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&nbsp;</td>
          <td class="paramname"> <em>palette</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>palette_count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the pallete if any. <br/>
 "palette" must be a 256 colors alocated array. <br/>
 Returns zero in "palette_count" if there is no palette. "palette_count" is &gt;0 and &lt;=256.</p>
<div class="fragment"><pre class="fragment">ifile:GetPalette() -&gt; palette: imPalette [in Lua 5] </pre></div> 
</div>
</div>
<a class="anchor" id="ga446462ec406002fcffbcd0611deca0da"></a><!-- doxytag: member="im.h::imFileSetPalette" ref="ga446462ec406002fcffbcd0611deca0da" args="(imFile *ifile, long *palette, int palette_count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void imFileSetPalette </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__imFile.html">imFile</a> *&nbsp;</td>
          <td class="paramname"> <em>ifile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&nbsp;</td>
          <td class="paramname"> <em>palette</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>palette_count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Changes the pallete. <br/>
 "palette_count" is &gt;0 and &lt;=256.</p>
<div class="fragment"><pre class="fragment">ifile:SetPalette(palette: imPalette) [in Lua 5] </pre></div> 
</div>
</div>
<a class="anchor" id="ga4b32f79f7f596d70701cfe7978b6c35b"></a><!-- doxytag: member="im.h::imFileReadImageInfo" ref="ga4b32f79f7f596d70701cfe7978b6c35b" args="(imFile *ifile, int index, int *width, int *height, int *file_color_mode, int *file_data_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int imFileReadImageInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__imFile.html">imFile</a> *&nbsp;</td>
          <td class="paramname"> <em>ifile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>file_color_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>file_data_type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reads the image header if any and returns image information. <br/>
 Reads also the extended image attributes, so other image attributes will be available only after calling this function. <br/>
 Returns an error code. index specifies the image number between 0 and image_count-1. <br/>
 Some drivers reads only in sequence, so "index" can be ignored by the format driver. <br/>
 Any parameters can be NULL. This function must be called at least once, check each format documentation. See also <a class="el" href="group__file.html#ga5259a88d1d9299b782efa0ae2a461056">imErrorCodes</a>, <a class="el" href="group__imagerep.html#ga668c1a57f579817842a4777a141b0b1d">imDataType</a>, <a class="el" href="group__imagerep.html#ga5e76d77a302a5484c9c5e2b499ebda0f">imColorSpace</a> and <a class="el" href="group__imagerep.html#ga286f44e2970f46b77ff145b1521c5961">imColorModeConfig</a>.</p>
<div class="fragment"><pre class="fragment">ifile:ReadImageInfo([index: number]) -&gt; error: number, width: number, height: number, file_color_mode: number, file_data_type: number [in Lua 5] </pre></div><p> Default index is 0. </p>

</div>
</div>
<a class="anchor" id="ga2818bcbd626b5706ed585357a586fe68"></a><!-- doxytag: member="im.h::imFileWriteImageInfo" ref="ga2818bcbd626b5706ed585357a586fe68" args="(imFile *ifile, int width, int height, int user_color_mode, int user_data_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int imFileWriteImageInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__imFile.html">imFile</a> *&nbsp;</td>
          <td class="paramname"> <em>ifile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>user_color_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>user_data_type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Writes the image header. Writes the file header at the first time it is called. Writes also the extended image attributes. <br/>
 Must call imFileSetPalette and set other attributes before calling this function. <br/>
 In some formats the color space will be converted to match file format specification. <br/>
 Returns an error code. This function must be called at least once, check each format documentation. See also <a class="el" href="group__file.html#ga5259a88d1d9299b782efa0ae2a461056">imErrorCodes</a>, <a class="el" href="group__imagerep.html#ga668c1a57f579817842a4777a141b0b1d">imDataType</a>, <a class="el" href="group__imagerep.html#ga5e76d77a302a5484c9c5e2b499ebda0f">imColorSpace</a> and <a class="el" href="group__imagerep.html#ga286f44e2970f46b77ff145b1521c5961">imColorModeConfig</a>.</p>
<div class="fragment"><pre class="fragment">ifile:WriteImageInfo(width: number, height: number, user_color_mode: number, user_data_type: number) -&gt; error: number [in Lua 5] </pre></div> 
</div>
</div>
<a class="anchor" id="gaa73397dc74a58704586595f0edb8ef34"></a><!-- doxytag: member="im.h::imFileReadImageData" ref="gaa73397dc74a58704586595f0edb8ef34" args="(imFile *ifile, void *data, int convert2bitmap, int color_mode_flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int imFileReadImageData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__imFile.html">imFile</a> *&nbsp;</td>
          <td class="paramname"> <em>ifile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>convert2bitmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>color_mode_flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reads the image data with or without conversion. <br/>
 The data can be converted to bitmap when reading. Data type conversion to byte will always scan for min-max then scale to 0-255, except integer values that min-max are already between 0-255. Complex to real conversions will use the magnitude. <br/>
 Color mode flags contains packed, alpha and top-botttom information. If flag is 0 means unpacked, no alpha and bottom up. If flag is -1 the file original flags are used. <br/>
 Returns an error code. See also <a class="el" href="group__file.html#ga5259a88d1d9299b782efa0ae2a461056">imErrorCodes</a>, <a class="el" href="group__imagerep.html#ga668c1a57f579817842a4777a141b0b1d">imDataType</a>, <a class="el" href="group__imagerep.html#ga5e76d77a302a5484c9c5e2b499ebda0f">imColorSpace</a> and <a class="el" href="group__imagerep.html#ga286f44e2970f46b77ff145b1521c5961">imColorModeConfig</a>.</p>
<div class="fragment"><pre class="fragment">ifile:ReadImageData(data: userdata, convert2bitmap: boolean, color_mode_flags: number) -&gt; error: number [in Lua 5] </pre></div> 
</div>
</div>
<a class="anchor" id="gaf81a086ffc143d70e0ef24e876aaeed3"></a><!-- doxytag: member="im.h::imFileWriteImageData" ref="gaf81a086ffc143d70e0ef24e876aaeed3" args="(imFile *ifile, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int imFileWriteImageData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__imFile.html">imFile</a> *&nbsp;</td>
          <td class="paramname"> <em>ifile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Writes the image data. <br/>
 Returns an error code.</p>
<div class="fragment"><pre class="fragment">ifile:WriteImageData(data: userdata) -&gt; error: number [in Lua 5] </pre></div> 
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue May 15 2012 12:06:07 for IM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
